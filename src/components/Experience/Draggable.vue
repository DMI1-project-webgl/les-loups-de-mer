<template>
  <section id="draggable" class="draggable">
    <div class="container">
      <!-- <div class="draggable--percent">
        <p class="draggable--text"><span ref="percent" class="percent">{{ value }}</span><span>%</span></p>
        
      </div> -->
      <div  ref="container" id="draggable--container">
        <div v-if="tuto" class="tuto"></div>
        <div ref="hitbox" class="draggable--hitbox"></div>
        <div ref="element" id="draggable--element" class="draggable--element">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 331.2 331.42">
            <g v-if="value == 100" id="a">
              <path d="M144.78,287.38c0,.53,0,1.04-.02,1.55-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9.46-.22-28.05-4.46-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,6.15-23.26,48.25-36.98,72.2-36.98,14.63,0,43.13,9.5,43.13,43.26Z" style="fill:#9bc9ff;"/>
              <path d="M144.76,288.93c-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9-.25-27.5-4.69-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,9.89,7.99,42.25,32.4,69.72,33.68,25.95,1.2,35.44-10.16,45.59-25.85Z" style="fill:#57a4ff;"/>
              <rect x="106.06" y="264.01" width="13.33" height="13.33" rx="5.97" ry="5.97" transform="translate(225.44 541.34) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M.92,293.37c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-11.75-10.56-39.45-16.44-44.88-11.01-4.45,4.45-6.86,16.72-5.67,27.3Z" style="fill:#57a4ff;"/>
              <path d="M.92,293.37c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-8.86,10.68-26.57,22.09-50.01,16.42-.18-.04-.37-.09-.54-.13Z" style="fill:#2488ff;"/>
              <path d="M112.81,299.89c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.84-5.94,20.94-11.05,24.37-8.98,2.81,1.7,5.04,7.22,5.12,12.26Z" style="fill:#57a4ff;"/>
              <path d="M112.81,299.89c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.72,4.23,16.47,8.04,29.2,3.39,.1-.03,.2-.07,.29-.11Z" style="fill:#2488ff;"/>
              <path d="M331.09,254.43c0,.53,0,1.04-.02,1.55-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9.46-.22-28.05-4.46-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,6.15-23.26,48.25-36.98,72.2-36.98,14.63,0,43.13,9.5,43.13,43.26Z" style="fill:#9bc9ff;"/>
              <path d="M331.07,255.98c-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9-.25-27.5-4.69-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,9.89,7.99,42.25,32.4,69.72,33.68,25.95,1.2,35.44-10.16,45.59-25.85Z" style="fill:#57a4ff;"/>
              <rect x="292.37" y="231.05" width="13.33" height="13.33" rx="5.97" ry="5.97" transform="translate(598.06 475.44) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M187.23,260.41c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-11.75-10.56-39.45-16.44-44.88-11.01-4.45,4.45-6.86,16.72-5.67,27.3Z" style="fill:#57a4ff;"/>
              <path d="M187.23,260.41c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-8.86,10.68-26.57,22.09-50.01,16.42-.18-.04-.37-.09-.54-.13Z" style="fill:#2488ff;"/>
              <path d="M299.12,266.94c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.84-5.94,20.94-11.05,24.37-8.98,2.81,1.7,5.04,7.22,5.12,12.26Z" style="fill:#57a4ff;"/>
              <path d="M299.12,266.94c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.72,4.23,16.47,8.04,29.2,3.39,.1-.03,.2-.07,.29-.11Z" style="fill:#2488ff;"/>
              <path d="M144.48,43.26c0,.53,0,1.04-.02,1.55-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9.46-.22-28.05-4.46-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28C35.3,13.72,77.4,0,101.35,0c14.63,0,43.13,9.5,43.13,43.26Z" style="fill:#9bc9ff;"/>
              <path d="M144.45,44.81c-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9-.25-27.5-4.69-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,9.89,7.99,42.25,32.4,69.72,33.68,25.95,1.2,35.44-10.16,45.59-25.85Z" style="fill:#57a4ff;"/>
              <rect x="105.75" y="19.89" width="13.33" height="13.33" rx="5.97" ry="5.97" transform="translate(224.83 53.1) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M.62,49.25c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7C39.42,22.39,11.72,16.51,6.29,21.95,1.84,26.4-.57,38.67,.62,49.25Z" style="fill:#57a4ff;"/>
              <path d="M.62,49.25c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-8.86,10.68-26.57,22.09-50.01,16.42-.18-.04-.37-.09-.54-.13Z" style="fill:#2488ff;"/>
              <path d="M112.51,55.77c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.84-5.94,20.94-11.05,24.37-8.98,2.81,1.7,5.04,7.22,5.12,12.26Z" style="fill:#57a4ff;"/>
              <path d="M112.51,55.77c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.72,4.23,16.47,8.04,29.2,3.39,.1-.03,.2-.07,.29-.11Z" style="fill:#2488ff;"/>
              <path d="M200.62,168c0,.53,0,1.04-.02,1.55-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9.46-.22-28.05-4.46-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,6.15-23.26,48.25-36.98,72.2-36.98,14.63,0,43.13,9.5,43.13,43.26Z" style="fill:#9bc9ff;"/>
              <path d="M200.59,169.55c-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9-.25-27.5-4.69-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,9.89,7.99,42.25,32.4,69.72,33.68,25.95,1.2,35.44-10.16,45.59-25.85Z" style="fill:#57a4ff;"/>
              <rect x="161.89" y="144.62" width="13.33" height="13.33" rx="5.97" ry="5.97" transform="translate(337.11 302.57) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M56.76,173.98c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-11.75-10.56-39.45-16.44-44.88-11.01-4.45,4.45-6.86,16.72-5.67,27.3Z" style="fill:#57a4ff;"/>
              <path d="M56.76,173.98c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-8.86,10.68-26.57,22.09-50.01,16.42-.18-.04-.37-.09-.54-.13Z" style="fill:#2488ff;"/>
              <path d="M168.65,180.5c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.84-5.94,20.94-11.05,24.37-8.98,2.81,1.7,5.04,7.22,5.12,12.26Z" style="fill:#57a4ff;"/>
              <path d="M168.65,180.5c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.72,4.23,16.47,8.04,29.2,3.39,.1-.03,.2-.07,.29-.11Z" style="fill:#2488ff;"/>
              <path d="M330.62,75.52c0,.53,0,1.04-.02,1.55-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9.46-.22-28.05-4.46-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,6.15-23.26,48.25-36.98,72.2-36.98,14.63,0,43.13,9.5,43.13,43.26Z" style="fill:#9bc9ff;"/>
              <path d="M330.6,77.07c-.88,28.31-25.75,41.26-43.11,41.26-.25,0-.49,0-.76,0-9-.25-27.5-4.69-44.01-12.13-.02,0-.06-.02-.09-.04-10.47-5.06-19.79-11.58-24.62-19.43-2.14-3.48-3.4-7.22-3.48-11.2-.04-2.17,.22-4.26,.76-6.28,9.89,7.99,42.25,32.4,69.72,33.68,25.95,1.2,35.44-10.16,45.59-25.85Z" style="fill:#57a4ff;"/>
              <rect x="291.9" y="52.14" width="13.33" height="13.33" rx="5.97" ry="5.97" transform="translate(597.12 117.61) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M186.76,81.5c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-11.75-10.56-39.45-16.44-44.88-11.01-4.45,4.45-6.86,16.72-5.67,27.3Z" style="fill:#57a4ff;"/>
              <path d="M186.76,81.5c.67,5.92,2.47,11.3,5.67,14.5,8.93,8.93,50.17-8.55,50.17-21.09,0-3.5-2.03-6.78-5.29-9.7-8.86,10.68-26.57,22.09-50.01,16.42-.18-.04-.37-.09-.54-.13Z" style="fill:#2488ff;"/>
              <path d="M298.65,88.02c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.84-5.94,20.94-11.05,24.37-8.98,2.81,1.7,5.04,7.22,5.12,12.26Z" style="fill:#57a4ff;"/>
              <path d="M298.65,88.02c.04,2.82-.58,5.49-2.15,7.26-4.37,4.93-28.73,.3-29.62-5.56-.25-1.63,.65-3.34,2.27-4.98,5.72,4.23,16.47,8.04,29.2,3.39,.1-.03,.2-.07,.29-.11Z" style="fill:#2488ff;"/>
            </g>
            <g v-if="value == 75" id="b">
              <path d="M151.11,150.31c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M151.08,151.94c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="110.52" y="125.81" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(235 265.59) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M.32,156.59c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M.32,156.59c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M117.6,163.42c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M117.6,163.42c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M240.94,47.01c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58C126.5,16.04,170.63,1.66,195.73,1.66c15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M240.92,48.63c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="200.35" y="22.51" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(414.67 58.98) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M90.15,53.28c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M90.15,53.28c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M207.43,60.12c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M207.43,60.12c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M241.36,286.55c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M241.34,288.17c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="200.77" y="262.04" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(415.51 538.06) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M90.57,292.82c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M90.57,292.82c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M207.85,299.66c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M207.85,299.66c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M331.2,183.24c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M331.17,184.87c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="290.61" y="158.74" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(595.18 331.45) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M180.4,189.51c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M180.4,189.51c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M297.69,196.35c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M297.69,196.35c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
            </g>
            <g v-if="value == 50" id="c">
              <path d="M196.03,47.01c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58C81.58,16.04,125.71,1.66,150.81,1.66c15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M196,48.63c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="155.43" y="22.51" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(324.84 58.98) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M45.23,53.28c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M45.23,53.28c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M162.51,60.12c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M162.51,60.12c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M196.45,286.55c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M196.42,288.17c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="155.86" y="262.04" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(325.68 538.06) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M45.66,292.82c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M45.66,292.82c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M162.94,299.66c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M162.94,299.66c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M286.28,183.24c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M286.26,184.87c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="245.69" y="158.74" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(505.35 331.45) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M135.49,189.51c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M135.49,189.51c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M252.77,196.35c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M252.77,196.35c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
            </g>
            <g v-if="value == 25" id="d">
              <path d="M196.24,218.43c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M196.21,220.06c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="155.65" y="193.93" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(325.26 401.82) rotate(-180)" style="fill:#3e3d42;"/>
              <path d="M45.44,224.7c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M45.44,224.7c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M162.72,231.54c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M162.72,231.54c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
              <path d="M286.07,115.12c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M286.04,116.75c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="245.48" y="90.62" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(504.93 195.21) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M135.28,121.4c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M135.28,121.4c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M252.56,128.23c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M252.56,128.23c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
            </g>
            <g v-if="value == 0" id="e">
              <path d="M241.15,166.78c0,.55,0,1.09-.03,1.63-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.91-.23-29.41-4.67-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,6.44-24.38,50.57-38.77,75.68-38.77,15.33,0,45.21,9.96,45.21,45.35Z" style="fill:#9bc9ff;"/>
              <path d="M241.13,168.4c-.92,29.67-26.99,43.25-45.18,43.25-.26,0-.52,0-.79,0-9.44-.26-28.83-4.91-46.13-12.72-.03,0-.06-.03-.09-.04-10.98-5.3-20.74-12.14-25.8-20.36-2.25-3.65-3.56-7.57-3.65-11.74-.04-2.27,.23-4.47,.79-6.58,10.37,8.38,44.28,33.97,73.08,35.3,27.2,1.26,37.15-10.65,47.78-27.09Z" style="fill:#57a4ff;"/>
              <rect x="200.56" y="142.28" width="13.97" height="13.97" rx="5.97" ry="5.97" transform="translate(415.09 298.52) rotate(180)" style="fill:#3e3d42;"/>
              <path d="M90.36,173.05c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-12.32-11.07-41.35-17.23-47.04-11.54-4.66,4.66-7.19,17.53-5.94,28.61Z" style="fill:#57a4ff;"/>
              <path d="M90.36,173.05c.71,6.2,2.59,11.85,5.94,15.2,9.36,9.36,52.58-8.96,52.58-22.11,0-3.67-2.13-7.11-5.54-10.17-9.28,11.19-27.85,23.15-52.42,17.22-.19-.04-.39-.09-.57-.14Z" style="fill:#2488ff;"/>
              <path d="M207.64,179.89c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6.12-6.22,21.95-11.58,25.55-9.41,2.95,1.78,5.28,7.57,5.37,12.85Z" style="fill:#57a4ff;"/>
              <path d="M207.64,179.89c.05,2.96-.61,5.75-2.25,7.61-4.58,5.17-30.11,.31-31.05-5.83-.26-1.71,.68-3.5,2.38-5.22,6,4.43,17.26,8.43,30.61,3.56,.1-.04,.21-.08,.31-.11Z" style="fill:#2488ff;"/>
            </g>
          </svg>
        </div>
        <p class="draggable--legend left">Minimum</p>
        <p class="draggable--legend right">Maximum</p>
        <div class="draggable--step step-1"></div>
        <div class="draggable--step step-2"></div>
        <div class="draggable--step step-3"></div>
        <div class="draggable--step step-4"></div>
        <div class="draggable--step step-5"></div>
      </div>
    </div>

  </section>
</template>

<script lang="ts">
import { defineComponent } from 'vue'
import { gsap } from "gsap";
import { Draggable } from "gsap/all"; 

gsap.registerPlugin(Draggable);

export default defineComponent({
  name: 'DraggableElement',
  props: ['tuto'],
  data: () => {
    return {
      value: 0,
    }
  },
  mounted () {
    let step = 0;
    const that = this
    const hitbox = this.$refs.hitbox as any;
    const widthContainer = (this.$refs.container as any).offsetWidth;
    const widthDraggable = (this.$refs.element as any).offsetWidth;
    const positionArray = this.initPositionArray(4, ( widthContainer - widthDraggable ) / 4);
    
    Draggable.create(this.$refs.element as any, {
      type:"x",
      inertia: true,
      bounds: this.$refs.container,
      onDrag: function() {
        that.displayPercentX(widthContainer, widthDraggable, this.x)
      },
      onDragEnd: function() {
          let posX = that.closestNumArray(positionArray, this.x)
          gsap.to(that.$refs.element as any, { x: posX, duration: 0.2});

          that.displayPercentX(widthContainer, widthDraggable, posX)
      }
    });

    hitbox.addEventListener("click", (e) => {
      let hbWidth = hitbox.offsetWidth;
      let hbHeight = hitbox.offsetHeight;

      let posX = that.closestNumArray(positionArray, e.clientX-hbWidth)
      gsap.to(that.$refs.element as any, { x: posX, duration: 0.2});

      that.displayPercentX(widthContainer, widthDraggable, posX)
    });
  },
  methods: {
    closestNumArray(array: number[], val: number) {
      let i = 0;
      while (i < array.length && array[i] < val) i++;
      return array[i] || array[i-1];
    },
    displayPercentX( widthContainer: number, widthDraggable: number, elementX: number) {
      let percentX = Math.round(( 100 * Math.round(elementX) ) / ( widthContainer - widthDraggable -1)) ;
      if (isNaN(percentX)) percentX = 0;
      this.value = percentX;
      this.$emit('valueChange', this.value)
    },
    initPositionArray(step: number, stepWidth: number) {
      let x1 = 0;
      let positionArray: number[] = new Array(step);

      for (let i = 0; i < step+1; i++) {
        positionArray[ i ] = x1;
        x1 += stepWidth;
      }
      return positionArray;
    }
  },
  beforeDestroy () {
  }
})
</script>

<style scoped>
/* Structure  */
.draggable--hitbox{
  height: 50px;
  position: relative;
  top: 0;
  left: 0;
  transform: translateY(-50%);
  bottom: 0;
  right: 0;
}

.container {
  display: flex; 
  align-items: baseline; 
}
.draggable .tuto {
  transform: translateX(-15px) translateY(-50%);
  width: 80px;
  height: 80px;
  top: -50%;
  left: 0;
  border-radius: 50%;
  position: absolute;
  box-shadow: 0 0 11px 7px #fffffff0;
  animation: 2s linear 1s infinite tutoDraggable;
}

/* Draggable elements */
section.draggable {
  position: fixed;
  width: 40vw;
  top: 10%;
  left: 50%;
  transform: translate(-50%, -50%);
}
#draggable--container{
  height: 1px;
  width: 500px;
  background-color: white;
  border-radius: 7px 7px;
  position: relative;
  margin: auto 0;
}
#draggable--element {
  overflow: hidden;
  width: 50px;
  height: 50px;
  background-color: white;
  position: absolute;
  left: 0;
  top: 50%;
  transform: translate( 0, -50%);
  border-radius: 50%;
  /* box-shadow: rgb(0 0 0 / 35%) -4px -3px 45px 21px; */
}
#draggable--element svg {
  height: 30px;
  width: 30px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.draggable--percent {
  height: 100%;
}
.draggable--text {
  color: white;
  margin: 0 20px;
  font-size: 0.5em;
  font-weight: bold;
  width: 100px;
  display: flex;
  justify-content: flex-end;
}
.draggable--text span {
  color: white;
  font-size: 1.3em;
  font-weight: bold;

}
.draggable--legend {
  position: absolute;
  top: 0;
  color: white;
  opacity: .5;
  padding: 15px;
  font-size: .4em;
}
.draggable--legend.left {
  transform: translate(-100%,-50%);
  left: 0;
}
.draggable--legend.right {
  transform: translate(100%,-50%);
  right: 0;
}
.draggable--step {
  height: 10px;
  width: 10px;
  border-radius: 50%;
  position: absolute;
  top: 50%;
  background-color: white;
}
.draggable--step.step-1 {
  left: 0;
  transform: translate(0%, -50%);
}
.draggable--step.step-2 {
  left: 25%;
  transform: translate(0%, -50%);
}
.draggable--step.step-3 {
  left: 50%;
  transform: translate(-50%, -50%);
}
.draggable--step.step-4 {
  left: 75%;
  transform: translate(-100%, -50%);
}
.draggable--step.step-5 {
  left: 100%;
  transform: translate(-100%, -50%);
}
</style>
